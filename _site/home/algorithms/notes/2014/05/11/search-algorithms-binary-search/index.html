<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Search Algorithms: Binary Search</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="everyday explorer">
    <link rel="canonical" href="http://localhost:4000/home/algorithms/notes/2014/05/11/search-algorithms-binary-search/">
    <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="HOME posts" />

    <!-- mathjax -->
    <script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-3698471-23', 'auto');
      ga('send', 'pageview');
    </script>

</head>

    <body>

    <header class="site-header">

  <div class="wrap">
    <!--
    <div style="float:left; margin-top:10px; margin-right:10px;">
    <a href="/feed.xml">
      <img src="/assets/rssicon.svg" width="40">
    </a>
    </div>
    -->
 
    <a class="site-title" href="/">HOME</a>
    
    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
          <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
            h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
            h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
            c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
          
            
              <a class="page-link" href="/about/">About</a>

            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
              <a class="page-link" href="/">Blog</a>

            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
              <a class="page-link" href="/research/">Slides</a>

            
          
        
          
            
          
        
          
            
          
        
          
        
          
            
          
        
          
            
          
        

      </div>
    </nav>
  </div>

</header>

    <div class="page-content">
      <div class="wrap">
      <div class="post">

  <header class="post-header">
    <h1>Search Algorithms: Binary Search</h1>
    <p class="meta">May 11, 2014</p>
  </header>

  <article class="post-content">
  <h3 id="introduction">Introduction</h3>
<p>A symbol table is a data structure for <strong>key-value pairs</strong> that supports two operations: insert (put) a new pair into the table and search for (get) the value associated with a given key .</p>

<p>Binary search in an ordered array can implement the symbol table API. The underlying data structure is two parallel array, <strong>with the keys kept in order</strong>.</p>

<h3 id="the-implementation">The Implementation</h3>
<p>For get(), the rank() (returns the number of keys) tells us precisely where the key is to be found;</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//return the value associated with the given key, or null</span>
<span class="kd">public</span> <span class="nc">Value</span> <span class="nf">get</span><span class="o">(</span><span class="nc">Key</span> <span class="n">key</span><span class="o">){</span>
   <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">rank</span><span class="o">(</span><span class="n">key</span><span class="o">);</span> <span class="c1">//return the number of keys in the table</span>
   <span class="k">if</span><span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="no">N</span> <span class="o">&amp;&amp;</span> <span class="n">keys</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">compareTo</span><span class="o">(</span><span class="n">key</span><span class="o">)</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
       <span class="k">return</span> <span class="n">vals</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>

   <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//return the number of keys in the table that are smaller than given key</span>
<span class="kd">public</span> <span class="kt">int</span> <span class="nf">rank</span><span class="o">(</span><span class="nc">Key</span> <span class="n">key</span><span class="o">){</span>
    <span class="kt">int</span> <span class="n">lo</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">hi</span> <span class="o">=</span> <span class="no">N</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span>
    <span class="k">while</span><span class="o">(</span><span class="n">lo</span> <span class="o">&lt;=</span> <span class="n">hi</span><span class="o">){</span>
        <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">lo</span> <span class="o">+</span> <span class="o">(</span><span class="n">hi</span> <span class="o">-</span> <span class="n">lo</span><span class="o">)</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">cmp</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">keys</span><span class="o">[</span><span class="n">m</span><span class="o">]);</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">cmp</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="n">hi</span> <span class="o">=</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">cmp</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="n">lo</span> <span class="o">=</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">else</span> <span class="k">return</span> <span class="n">m</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="n">lo</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>and for put(), the rank tells where to update the value .</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//search for key, update value if found, grow table if new</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">put</span><span class="o">(</span><span class="nc">Key</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Value</span> <span class="n">val</span><span class="o">){</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">rank</span><span class="o">(</span><span class="n">key</span><span class="o">);</span> <span class="c1">//where to update the value</span>

    <span class="c1">// key is already in table</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="no">N</span> <span class="o">&amp;&amp;</span> <span class="n">keys</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">compareTo</span><span class="o">(</span><span class="n">key</span><span class="o">)</span> <span class="o">==</span> <span class="mi">0</span><span class="o">){</span>
         <span class="n">vals</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">val</span><span class="o">;</span>
         <span class="k">return</span><span class="o">;</span>
     <span class="o">}</span>

    <span class="c1">// insert new key-value pair</span>
    <span class="k">if</span> <span class="o">(</span><span class="no">N</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="n">resize</span><span class="o">(</span><span class="mi">2</span><span class="o">*</span><span class="n">keys</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="no">N</span><span class="o">;</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="n">i</span><span class="o">;</span> <span class="n">j</span><span class="o">--)</span>  <span class="o">{</span>
         <span class="n">keys</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">keys</span><span class="o">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="o">];</span>
         <span class="n">vals</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">vals</span><span class="o">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="n">keys</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">key</span><span class="o">;</span>
    <span class="n">vals</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">val</span><span class="o">;</span>
    <span class="no">N</span><span class="o">++;</span>
 <span class="o">}</span>
</code></pre></div></div>

<h3 id="performance-analysis">Performance Analysis</h3>

<p>The reason that we <strong>keep keys in an ordered array</strong> is so that we can use <strong>array indexing to dramatically reduce the number of compares required for each search using the known as binary search</strong> ( <strong>can auto calculate the related mid value based on array index</strong>).</p>

<p>Binary search in an ordered array with N keys uses no more than <strong>lgN + 1</strong> compares for a search; and Inserting a new key into an ordered array uses <strong>~2N array accesses</strong> in the worst case (<strong>e.g. move the array entirely, line 14~16</strong>), so inserting N keys into an initially empty table uses <strong>~N^2 array accesses</strong> in the worst case;</p>

<p>See the table,</p>

<table>
  <thead>
    <tr>
      <th>Algorithm</th>
      <th style="text-align: center">Worst-case-search</th>
      <th style="text-align: center">Worst-case-insert</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>sequential search</td>
      <td style="text-align: center">N</td>
      <td style="text-align: center">N</td>
    </tr>
    <tr>
      <td>binary search</td>
      <td style="text-align: center">lgN</td>
      <td style="text-align: center">2N</td>
    </tr>
    <tr>
      <td> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
    </tr>
  </tbody>
</table>

<h3 id="in-summary">In Summary</h3>
<p>For a <strong>static table</strong> (with no insert operations allowed), it is <strong>worthwhile to initialize and sort the table</strong>.</p>

<p>Still, binary search is infeasible for use in many other applications. For example,it fails because <strong>searches and inserts are intermixed and the table size is too large</strong> . As typical modern search clients require symbole tables that can support fast implementations of both search and insert. The means we have to devise algorithms and data structures that achieve logarithmic performance for both search and insert. To <strong>support efficient insertion</strong>, it seems that we need a <strong>linked structure</strong>. But a singly linked list forecloses the use of binary search, because <strong>the efficiency of binary search depends on the ability to get to the middle of any subarray quickly via indexing</strong>.</p>

<p>To combine the efficiency of binary search with the flexibility of linked structures, we need more complicated data structure. That are <strong>binary search trees and hash tables</strong> .</p>

<h3 id="references">References:</h3>
<ul>
  <li><a href="http://algs4.cs.princeton.edu/31elementary/">Elementary Symbol Tables</a></li>
</ul>

  </article>

  <!-- mathjax -->
  
  
  <!-- disqus comments -->

 <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'muyun'; // required: replace example with your forum shortname
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  
  
</div>

      </div>
    </div>
  

    <footer class="site-footer">

  <div class="wrap">

    <!-- <h2 class="footer-heading">HOME</h2> -->

    <div class="footer-col-1 column">
      <ul>
        <li>&copy 2020 zhaowenlong </li>
        <!-- <li><a href="mailto:wenlzhao@gmail.com">wenlzhao@gmail.com</a></li> -->
      </ul>
    </div>

    <div class="footer-col-2 column">
      <ul>
        <li>
          <a href="https://github.com/muyun">
            <span class="icon github">
              <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
                c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
                c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
                c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
                C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
                c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
                c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
                c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
                c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <span class="username">muyun</span>
          </a>
        </li>
        <!--
        
        -->
      </ul>
    </div>

    <div class="footer-col-3 column">
      <p class="text">everyday explorer</p>
    </div>

  </div>

</footer>


    </body>
</html>